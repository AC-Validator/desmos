<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrating a validator | Desmos Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/assets/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/pwa/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/pwa/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/pwa/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/pwa/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/pwa/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/pwa/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/pwa/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/pwa/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/pwa/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/pwa/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/pwa/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/pwa/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/pwa/favicon-16x16.png">
    <link rel="manifest" href="/assets/pwa/manifest.json">
    <meta name="description" content="Documentation for the Desmos blockchain.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Desmos Documentation">
    <meta property="og:url" content="https://docs.desmos.network/">
    <meta property="og:description" content="Learn how to integrate with the Desmos blockchain">
    <meta property="og:image" content="https://docs.desmos.network/assets/logo.png">
    <meta roperty="og:type" content="website">
    <meta property="og:locale" content="en_US">
    
    <link rel="preload" href="/assets/css/0.styles.5341f6db.css" as="style"><link rel="preload" href="/assets/js/app.73ab4a39.js" as="script"><link rel="preload" href="/assets/js/2.d405f95a.js" as="script"><link rel="preload" href="/assets/js/64.9171e3ff.js" as="script"><link rel="prefetch" href="/assets/js/10.84081c95.js"><link rel="prefetch" href="/assets/js/11.f106367c.js"><link rel="prefetch" href="/assets/js/12.dfa2f67e.js"><link rel="prefetch" href="/assets/js/13.b1370342.js"><link rel="prefetch" href="/assets/js/14.0d13884d.js"><link rel="prefetch" href="/assets/js/15.12393bdc.js"><link rel="prefetch" href="/assets/js/16.12c98ddf.js"><link rel="prefetch" href="/assets/js/17.b3b10a2d.js"><link rel="prefetch" href="/assets/js/18.ef1e074c.js"><link rel="prefetch" href="/assets/js/19.2cac4182.js"><link rel="prefetch" href="/assets/js/20.3bb0bb6d.js"><link rel="prefetch" href="/assets/js/21.bd63b30e.js"><link rel="prefetch" href="/assets/js/22.dd84f93d.js"><link rel="prefetch" href="/assets/js/23.091eae1c.js"><link rel="prefetch" href="/assets/js/24.c20822d8.js"><link rel="prefetch" href="/assets/js/25.9099059e.js"><link rel="prefetch" href="/assets/js/26.82761b0f.js"><link rel="prefetch" href="/assets/js/27.cd9e626a.js"><link rel="prefetch" href="/assets/js/28.2c81ec97.js"><link rel="prefetch" href="/assets/js/29.5be14455.js"><link rel="prefetch" href="/assets/js/3.594588c9.js"><link rel="prefetch" href="/assets/js/30.279eb15e.js"><link rel="prefetch" href="/assets/js/31.49aa1883.js"><link rel="prefetch" href="/assets/js/32.ab8933ad.js"><link rel="prefetch" href="/assets/js/33.23375d59.js"><link rel="prefetch" href="/assets/js/34.9652b623.js"><link rel="prefetch" href="/assets/js/35.fff9a4f9.js"><link rel="prefetch" href="/assets/js/36.4074645d.js"><link rel="prefetch" href="/assets/js/37.96e64a86.js"><link rel="prefetch" href="/assets/js/38.c00568d2.js"><link rel="prefetch" href="/assets/js/39.4e1943e6.js"><link rel="prefetch" href="/assets/js/4.3675dc09.js"><link rel="prefetch" href="/assets/js/40.da22b99d.js"><link rel="prefetch" href="/assets/js/41.de3078bd.js"><link rel="prefetch" href="/assets/js/42.1456360e.js"><link rel="prefetch" href="/assets/js/43.f79d27ce.js"><link rel="prefetch" href="/assets/js/44.4a3e4b8a.js"><link rel="prefetch" href="/assets/js/45.7ebbbe19.js"><link rel="prefetch" href="/assets/js/46.e0d6cc0c.js"><link rel="prefetch" href="/assets/js/47.57e8a770.js"><link rel="prefetch" href="/assets/js/48.0dba17b7.js"><link rel="prefetch" href="/assets/js/49.f6c31d98.js"><link rel="prefetch" href="/assets/js/5.eb28b176.js"><link rel="prefetch" href="/assets/js/50.52fdbf10.js"><link rel="prefetch" href="/assets/js/51.fe935e04.js"><link rel="prefetch" href="/assets/js/52.3f872161.js"><link rel="prefetch" href="/assets/js/53.9cffe5c5.js"><link rel="prefetch" href="/assets/js/54.a5c5227d.js"><link rel="prefetch" href="/assets/js/55.53c48a1a.js"><link rel="prefetch" href="/assets/js/56.6ffef885.js"><link rel="prefetch" href="/assets/js/57.1070e9f5.js"><link rel="prefetch" href="/assets/js/58.6f85c65f.js"><link rel="prefetch" href="/assets/js/59.2dc1f7d5.js"><link rel="prefetch" href="/assets/js/6.235f26ae.js"><link rel="prefetch" href="/assets/js/60.a779f3af.js"><link rel="prefetch" href="/assets/js/61.11613c9e.js"><link rel="prefetch" href="/assets/js/62.57e5a6c7.js"><link rel="prefetch" href="/assets/js/63.dba493f2.js"><link rel="prefetch" href="/assets/js/65.0676da88.js"><link rel="prefetch" href="/assets/js/66.c2e31120.js"><link rel="prefetch" href="/assets/js/67.8fe2f44d.js"><link rel="prefetch" href="/assets/js/68.764879a5.js"><link rel="prefetch" href="/assets/js/69.723dd4f4.js"><link rel="prefetch" href="/assets/js/7.611c1d37.js"><link rel="prefetch" href="/assets/js/70.d4799d0e.js"><link rel="prefetch" href="/assets/js/71.13908b92.js"><link rel="prefetch" href="/assets/js/72.79480241.js"><link rel="prefetch" href="/assets/js/8.c655b1bf.js"><link rel="prefetch" href="/assets/js/9.c1e1eb16.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5341f6db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo.png" alt="Desmos Docs" class="logo"> <span class="site-name can-hide">Desmos Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Types</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Running a Fullnode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Validators</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/validators/overview.html" class="sidebar-link">Overview</a></li><li><a href="/validators/security.html" class="sidebar-link">Security</a></li><li><a href="/validators/setup.html" class="sidebar-link">Setup</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Upgrades</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/validators/migrating.html" aria-current="page" class="active sidebar-link">Migrating</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/validators/migrating.html#_1-backup-the-data" class="sidebar-link">1. Backup the data</a></li><li class="sidebar-sub-header"><a href="/validators/migrating.html#_2-setup-your-new-node" class="sidebar-link">2. Setup your new node</a></li><li class="sidebar-sub-header"><a href="/validators/migrating.html#_3-start-the-new-node" class="sidebar-link">3. Start the new node</a></li></ul></li><li><a href="/validators/halting.html" class="sidebar-link">Halting</a></li><li><a href="/validators/common-problems.html" class="sidebar-link">Common problems</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Testnets</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="migrating-a-validator"><a href="#migrating-a-validator" class="header-anchor">#</a> Migrating a validator</h1> <p>In some cases, you might want to move your running validator from one server to another. For example, this might be the case if you find a cheaper alternative or if your host does not meet the requirements.</p> <p>In this case, what you need to do is following a three steps procedure:</p> <ol><li>Stop the current running validator and backup the data.</li> <li>Setup the new server and transfer the backed up files to it.</li> <li>Start the new node.</li></ol> <h2 id="_1-backup-the-data"><a href="#_1-backup-the-data" class="header-anchor">#</a> 1. Backup the data</h2> <p>In order to properly transfer your validator to another server, you first have to stop the running node. To do this, you can execute the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl stop desmos
</code></pre></div><p>Once you have done so, you need to back up the following data:</p> <ol><li><p>The mnemonic phrase associated with your key.<br>
You should have written it down on a piece of paper when you first created the node.</p></li> <li><p>The validator private key.<br>
This is located inside the <code>~/.desmos/config/priv_validator_key.json</code> file.</p></li> <li><p>The validator consensus state.<br>
This is located inside the <code>~/.desmos/data/priv_validator_state.json</code> file.</p></li></ol> <div class="custom-block tip"><p class="custom-block-title">Do not delete your old node yet</p> <p>We highly suggest you to delete your old node instance once that the new node is running properly. This will allow you to recover any information if you forgot to do so.</p></div> <h2 id="_2-setup-your-new-node"><a href="#_2-setup-your-new-node" class="header-anchor">#</a> 2. Setup your new node</h2> <h3 id="setting-up-the-full-node"><a href="#setting-up-the-full-node" class="header-anchor">#</a> Setting up the full node</h3> <p>Once you are ready to get your new node running, the first thing to do is setup your node as a full node. To do this,
you can read the guide <a href="/fullnode/setup.html">here</a>.</p> <p>Once that is done, stop your new node from running by using</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl stop desmos
</code></pre></div><p>Now, transfer the following backed up files from the old node into the new one:</p> <ul><li><code>~/.desmos/config/priv_validator_key.json</code></li> <li><code>~/.desmos/data/priv_validator_state.json</code></li></ul> <h3 id="restoring-your-key"><a href="#restoring-your-key" class="header-anchor">#</a> Restoring your key</h3> <p>To restored your validator key, all you have to do is execute the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>desmos keys add &lt;your_key_name&gt; --recover
</code></pre></div><p>Now, insert your mnemonic phrase and then your keyring password.</p> <h2 id="_3-start-the-new-node"><a href="#_3-start-the-new-node" class="header-anchor">#</a> 3. Start the new node</h2> <p>Once everything is in place, you can start your new node. To do this, run the following commands:</p> <div class="language- extra-class"><pre class="language-text"><code>desmos unsafe-reset-all
sudo systemctl start desmos
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Make sure the old node is not running</p> <p>Before starting the new node, make sure you stop the old one. If you start the new node, and the old one is still running, you will run into a double signature, and your node will be slashed of 5% of its staked amount.</p> <p>To prevent this, stop the old server from running if possible.</p></div> <p>When you are sure your node caught up to the chain properly, you can now delete the old server instance and all the files contained inside it.</p> <div class="custom-block tip"><p class="custom-block-title">Wait before deleting the old node</p> <p>We suggest you to wait before deleting the old node. Instead of waiting only to see the blocks syncing, make sure your new node is actually signing blocks as your validator. You will see this by looking at your validator uptime on our <a href="https://morpheus.desmos.network/validators" target="_blank" rel="noopener noreferrer">explorer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If everything is working properly, the uptime should slowly increase.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/desmos-labs/desmos/edit/master/docs/validators/migrating.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/25/2021, 1:54:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/validators/upgrades/automatic/workflow.html" class="prev">
        Workflow
      </a></span> <span class="next"><a href="/validators/halting.html">
        Halting
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.73ab4a39.js" defer></script><script src="/assets/js/2.d405f95a.js" defer></script><script src="/assets/js/64.9171e3ff.js" defer></script>
  </body>
</html>
