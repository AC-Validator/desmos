(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{397:function(s,e,a){"use strict";a.r(e);var t=a(42),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"create-a-local-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-local-testnet"}},[s._v("#")]),s._v(" Create a local testnet")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("Required desmos executables")]),s._v(" "),a("p",[s._v("You need to "),a("RouterLink",{attrs:{to:"/install.html"}},[s._v("install "),a("code",[s._v("desmoscli")]),s._v(" and "),a("code",[s._v("desmosd")])]),s._v(" before going further.")],1)]),s._v(" "),a("p",[s._v("There are two types of local testnets:")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#creating-a-single-node-testnet"}},[s._v("Single node testnet")]),s._v(", which allows you to have a faster testnet with only one validator running on your machine.")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#creating-a-multi-node-testnet"}},[s._v("Multi-node testnet")]),s._v(", which requires you to have "),a("a",{attrs:{href:"https://docker.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),a("OutboundLink")],1),s._v(" installed to run 4 validator nodes locally on your machine.")])])]),s._v(" "),a("h2",{attrs:{id:"creating-a-single-node-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-single-node-testnet"}},[s._v("#")]),s._v(" Creating a single node testnet")]),s._v(" "),a("p",[s._v("To create a single node local testnet, run the following commands:")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("Create a "),a("code",[s._v("desmoscli")]),s._v(" key. Replace "),a("code",[s._v("<your-key-name>")]),s._v(" with whatever name you prefer.")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("desmoscli keys "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("your-key-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("You will be required to input a password. Please make sure you use one that you will remember later. You should now see an output like")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ desmoscli keys "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" jack --dry-run\n\n- name: jack\n  type: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v("\n  address: desmos1qdv08q76fmfwwzrxcqs78z6pzfxe88cgc5a3tk\n  pubkey: desmospub1addwnpepq2j9a35spphh6q529y2thg8tjw9l2c32hck98fnmu99sxpw9a9aegugm6xs\n  mnemonic: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  threshold: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  pubkeys: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\n**Important** "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" this mnemonic phrase "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a safe place.\nIt is the only way to recover your account "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you ever forget your password.\n\nglory discover erosion mention grow prosper supreme term nephew venue pear eternal budget rely outdoor lobster strong sign space "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" soccer medal tuition patrol\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("Make sure you save the shown mnemonic phrase in some safe place as it might return useful in the future.")])]),s._v(" "),a("li",[a("p",[s._v("Initialize the testnet")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("desmosd init testnet --chain-id testnet\ndesmosd add-genesis-account "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("your-key-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 100000000000desmos\ndesmosd gentx --amount 1000000000desmos --name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("your-key-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\ndesmosd collect-gentxs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("During the procedure you will be asked to input the same key password you have set inside point 1.")])]),s._v(" "),a("li",[a("p",[s._v("Start the testnet."),a("br"),s._v("\nOnce you have completed all the steps, you are ready to start your local testnet by running:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("desmosd start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"creating-a-multi-node-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-multi-node-testnet"}},[s._v("#")]),s._v(" Creating a multi node testnet")]),s._v(" "),a("p",[s._v("To create a local multi node testnet, you can simply run the following command:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" localnet-start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("This command creates a 4-node network using the "),a("code",[s._v("desmoslabs/desmosdnode")]),s._v(" image.\nThe ports for each node are found in this table:")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("Node ID")]),s._v(" "),a("th",[s._v("P2P Port")]),s._v(" "),a("th",[s._v("RPC Port")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("desmosdnode0")])]),s._v(" "),a("td",[a("code",[s._v("26656")])]),s._v(" "),a("td",[a("code",[s._v("26657")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("desmosdnode1")])]),s._v(" "),a("td",[a("code",[s._v("26659")])]),s._v(" "),a("td",[a("code",[s._v("26660")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("desmosdnode2")])]),s._v(" "),a("td",[a("code",[s._v("26661")])]),s._v(" "),a("td",[a("code",[s._v("26662")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("desmosdnode3")])]),s._v(" "),a("td",[a("code",[s._v("26663")])]),s._v(" "),a("td",[a("code",[s._v("26664")])])])])]),s._v(" "),a("p",[s._v("To update the binary, just rebuild it and restart the nodes:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("make build-linux localnet-start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[s._v("#")]),s._v(" Configuration")]),s._v(" "),a("p",[s._v("The "),a("code",[s._v("make localnet-start")]),s._v(" creates files for a 4-node testnet in "),a("code",[s._v("./build")]),s._v(" by\ncalling the "),a("code",[s._v("desmosd testnet")]),s._v(" command. This outputs a handful of files in the\n"),a("code",[s._v("./build")]),s._v(" directory:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ tree -L "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" build/\nbuild/\n├── desmoscli\n├── desmosd\n├── gentxs\n│   ├── node0.json\n│   ├── node1.json\n│   ├── node2.json\n│   └── node3.json\n├── node0\n│   ├── desmoscli\n│   │   ├── key_seed.json\n│   │   └── keys\n│   └── desmosd\n│       ├── "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LOG"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("desmosd.log}")]),s._v("\n│       ├── config\n│       └── data\n├── node1\n│   ├── desmoscli\n│   │   └── key_seed.json\n│   └── desmosd\n│       ├── "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LOG"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("desmosd.log}")]),s._v("\n│       ├── config\n│       └── data\n├── node2\n│   ├── desmoscli\n│   │   └── key_seed.json\n│   └── desmosd\n│       ├── "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LOG"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("desmosd.log}")]),s._v("\n│       ├── config\n│       └── data\n└── node3\n    ├── desmoscli\n    │   └── key_seed.json\n    └── desmosd\n        ├── "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${LOG"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("desmosd.log}")]),s._v("\n        ├── config\n        └── data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("p",[s._v("Each "),a("code",[s._v("./build/nodeN")]),s._v(" directory is mounted to the "),a("code",[s._v("/desmosd")]),s._v(" directory in each container.")]),s._v(" "),a("h4",{attrs:{id:"logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging"}},[s._v("#")]),s._v(" Logging")]),s._v(" "),a("p",[s._v("Logs are saved under each "),a("code",[s._v("./build/nodeN/desmosd/desmos.log")]),s._v(". You can also watch logs\ndirectly via Docker, for example:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker logs -f desmosdnode0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"keys-accounts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keys-accounts"}},[s._v("#")]),s._v(" Keys & Accounts")]),s._v(" "),a("p",[s._v("To interact with "),a("code",[s._v("desmoscli")]),s._v(" and start querying state or creating txs, you use the\n"),a("code",[s._v("desmoscli")]),s._v(" directory of any given node as your "),a("code",[s._v("home")]),s._v(", for example:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("desmoscli keys list --home ./build/node0/desmoscli\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("Now that accounts exists, you may create new accounts and send those accounts\nfunds!")]),s._v(" "),a("p",[a("strong",[s._v("Note")]),s._v(": Each node's seed is located at "),a("code",[s._v("./build/nodeN/desmoscli/key_seed.json")]),s._v(" and can be restored to the CLI using the "),a("code",[s._v("desmoscli keys add --restore")]),s._v(" command")])])}),[],!1,null,null,null);e.default=n.exports}}]);