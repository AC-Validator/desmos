(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{394:function(s,t,e){"use strict";e.r(t);var a=e(42),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"updating-your-desmos-fullnode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updating-your-desmos-fullnode"}},[s._v("#")]),s._v(" Updating your Desmos fullnode")]),s._v(" "),e("p",[s._v("These instructions are for fullnodes that have ran on previous versions of and would like to update to the latest testnet.")]),s._v(" "),e("h2",{attrs:{id:"_1-reset-the-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-reset-the-data"}},[s._v("#")]),s._v(" 1. Reset the data")]),s._v(" "),e("p",[s._v("First, remove the outdated files and reset the data.")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.desmosd/config/addrbook.json "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.desmosd/config/genesis.json\ndesmosd unsafe-reset-all\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("Your node is now in a pristine state while keeping the original "),e("code",[s._v("priv_validator.json")]),s._v(" and "),e("code",[s._v("config.toml")]),s._v(". If you had any sentry nodes or full nodes setup before, your node will still try to connect to them, but may fail if they haven't also been upgraded.")]),s._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),e("p",[s._v("Make sure that every node has a unique "),e("code",[s._v("priv_validator.json")]),s._v(". Do not copy the "),e("code",[s._v("priv_validator.json")]),s._v(" from an old node to multiple new nodes. Running two nodes with the same "),e("code",[s._v("priv_validator.json")]),s._v(" will cause you to "),e("strong",[s._v("double sign")]),s._v(".")])]),s._v(" "),e("h2",{attrs:{id:"_2-upgrade-the-software"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-upgrade-the-software"}},[s._v("#")]),s._v(" 2. Upgrade the software")]),s._v(" "),e("p",[s._v("Now it is time to upgrade the software.")]),s._v(" "),e("p",[s._v("Go into the directory in which you have installed "),e("code",[s._v("desmos")]),s._v(". If you have followed the "),e("RouterLink",{attrs:{to:"/fullnode/setup/overview.html"}},[s._v("installation instructions")]),s._v(" and didn't change the path, it should be "),e("code",[s._v("/home/$USER/desmos")]),s._v(":")],1),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("installation-path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# E.g")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /home/$USER/desmos")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("Now, update the "),e("code",[s._v("desmoscli")]),s._v(" and "),e("code",[s._v("desmosd")]),s._v(" software:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch --all\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout tags/"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" describe --tags `git rev-list --tags --max-count"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("`"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("Select another version")]),s._v(" "),e("p",[s._v("The above commands checks out the latest release that has been tagged on our repository. If you wish to checkout a specific version instead, use the following commands:")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("List all the tags")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tags --list\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Checkout the tag you want")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout tags/"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("tag"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Example: git checkout tags/v0.2.0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])])]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("Note")]),s._v(" "),e("p",[s._v("If you have issues at this step, please check that you have the "),e("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[s._v("latest stable version"),e("OutboundLink")],1),s._v(" of Go installed.")])]),s._v(" "),e("p",[s._v("Your full node has been cleanly updated!")])])}),[],!1,null,null,null);t.default=n.exports}}]);